/* LGPL-3.0 */
var me=this.me||{};(function(t,C){function u(){}function oa(){}function pa(){}function e(a){var d=a.primaryDark,c=a.accent,b=a.textBlack,f=a.textWhite,n=a.textGrey;this._colorPrimary=a.primary||y.INDIGO;this._colorPrimaryDark=d||y.INDIGO_DARK;this._colorAccent=c||y.PINK_ACCENT;this._colorTextBlack=b||y.BLACK;this._colorTextWhite=f||y.WHITE;this._colorTextGrey=n||y.GREY}function H(){this._connectivityManager=h.getSystemService(Ea.CONNECTIVITY_SERVICE)}function X(a){this._url=a}function k(a,d){this._email="";this._id=a;this._name="";this._password=d;this._userId=null;this._friends=[];this._isAvailable=!1}function ia(a){var d=this;d._account=a;d._isRunning=!0;d._receivers=[];d._response=function(){};(new G({run:function(){try{for(var a=Fa.newInstance(Ga.TYPE,128),b=new Ha(19130),f=new Ia(a,a.length);d._isRunning;){G.sleep(1E3);b.receive(f);var n=new J(a,0,f.getLength());print(n);d._response(n)}}catch(ya){print(ya)}}})).start()}function U(a){this._manager=net.zhuoweizhang.mcpelauncher.AddonManager(h);this._packageName=a}function K(){}function Y(a){this._path=a;this._file=new I(a);this._file.exists()?this._obj=JSON.parse(K.read(a)):this._obj={}}function ea(a){this._info=a}function O(a,d){this._name=a||"";this._version=d||"1.0"}function z(){}function Z(){}function l(a){a=a||e.DEFAULT;var d=this._params=new r.LayoutParams(-1,-2),c=this._view=new L(h);this._theme=a;d.setMargins(8*b,8*b,8*b,8*b);c.setLayoutParams(d);c.setText("TextView");c.setTextColor(a.getTextView(e.TEXT_COLOR));c.setTextSize(1,16)}function p(a){a=a||e.DEFAULT;var d=this,c=this._params=new r.LayoutParams(88*b,36*b),g=this._view=new L(h),f=this._unpressedDrawable=new q(a.getButton(e.BACKGROUND_COLOR));this._theme=a;this._pressedDrawable=new q(a.getButton(e.EFFECT_COLOR));this._func=function(){};c.setMargins(8*b,6*b,8*b,6*b);g.setBackgroundDrawable(f);g.setGravity(A.CENTER);g.setLayoutParams(c);g.setOnTouchListener(new B.OnTouchListener({onTouch:function(a,c){var b=a.getWidth(),g=a.getHeight(),f=c.getX(),n=c.getY();switch(c.getAction()){case E.ACTION_DOWN:a.setBackgroundDrawable(d._pressedDrawable);break;case E.ACTION_MOVE:0<=f&&f<=b&&0<=n&&n<=g?a.setBackgroundDrawable(d._pressedDrawable):a.setBackgroundDrawable(d._unpressedDrawable);break;case E.ACTION_UP:0<=f&&f<=b&&0<=n&&n<=g&&(a.setBackgroundDrawable(d._unpressedDrawable),d._func(a));break;case E.ACTION_CANCEL:0<=f&&f<=b&&0<=n&&n<=g&&a.setBackgroundDrawable(d._unpressedDrawable)}return!0}}));g.setText("Button");g.setTextColor(a.getButton(e.TEXT_COLOR));g.setTextSize(1,16)}function v(a){a=a||e.DEFAULT;var d=new qa,c=d.getPaint();c.setColor(-1);c.setStyle(Ja.Style.STROKE);c.setColor(a.getEditText(e.BACKGROUND_COLOR));c.setStrokeWidth(3*b);this._theme=a;this._params=new r.LayoutParams(-1,40*b);this._view=new Ya(h);this._params.setMargins(8*b,4*b,8*b,4*b);this._view.setBackgroundDrawable(d);this._view.setHint("EditText");this._view.setHintTextColor(a.getEditText(e.HINT_TEXT_COLOR));this._view.setImeOptions(6);this._view.setLayoutParams(this._params);this._view.setPadding(8*b,8*b,8*b,8*b);this._view.setTextColor(a.getEditText(e.TEXT_COLOR));this._view.setTextSize(1,16)}function M(){this._layout=new r(h);this._views=[];this._row=5;this._column=-1;this._width=60*b;this._height=60*b;this._layout.setOrientation(1)}function P(a,d){a=a||D.RECT;d=d||e.DEFAULT;var c=this;c._shape=a;c._theme=d;c._params=new r.LayoutParams(a===D.RECT?-1:40*b,a===D.RECT?36*b:40*b);c._view=new L(h);c._pressedDrawable=new q(0);c._unpressedDrawable=new q(0);c._func=function(){};c._params.setMargins(6*b,6*b,6*b,6*b);c._view.setBackgroundDrawable(c._unpressedDrawable);c._view.setGravity(A.CENTER);c._view.setLayoutParams(c._params);c._view.setOnTouchListener(new B.OnTouchListener({onTouch:function(a,d){var b=a.getWidth(),g=a.getHeight(),f=d.getX(),e=d.getY();switch(d.getAction()){case E.ACTION_DOWN:a.setBackgroundDrawable(c._pressedDrawable);break;case E.ACTION_MOVE:0<=f&&f<=b&&0<=e&&e<=g?a.setBackgroundDrawable(c._pressedDrawable):a.setBackgroundDrawable(c._unpressedDrawable);break;case E.ACTION_UP:0<=f&&f<=b&&0<=e&&e<=g&&(a.setBackgroundDrawable(c._unpressedDrawable),c._func(a));break;case E.ACTION_CANCEL:0<=f&&f<=b&&0<=e&&e<=g&&a.setBackgroundDrawable(c._unpressedDrawable)}return!0}}))}function aa(a,d){a=a||D.RECT;d=d||e.DEFAULT;var c=this;c._shape=a;c._theme=d;c._params=new r.LayoutParams(-1,36*b);c._view=new Za(h);c._pressedDrawable=new q(0);c._unpressedDrawable=new q(0);c._func=function(){};c._params.setMargins(6*b,6*b,6*b,6*b);c._view.setBackgroundDrawable(c._unpressedDrawable);c._view.setGravity(A.CENTER);c._view.setLayoutParams(c._params);c._view.setOnCheckedChangeListener(new $a.OnCheckedChangeListener({onCheckedChanged:function(a,d){c._func(a,d);d?a.setBackgroundDrawable(c._pressedDrawable):a.setBackgroundDrawable(c._unpressedDrawable)}}));c._view.setTextOff("");c._view.setTextOn("")}function Q(){this._params=new r.LayoutParams(40*b,44*b);this._view=new ab(h);this._params.setMargins(4*b,2*b,4*b,2*b);this._view.setInitialScale(100);this._view.setLayoutParams(this._params);this._view.getSettings().setJavaScriptEnabled(!0)}function x(){this._layout=new r(h);this._layout.setOrientation(1)}function fa(){var a=this,d=this._layout=new M;a._func=function(){};for(var c in y){var b=y[c];if("number"===typeof b){var f=new L(h);f.setBackgroundDrawable(new q(b));f.setOnClickListener(new B.OnClickListener({onClick:function(c){a._func(c.getTag())}}));f.setTag(b);d.addView(f)}}}function ga(a){this._theme=a=a||e.DEFAULT;this._window=new ja(h);this._layout=new R(a);this._palette=new fa;this._window.setBackgroundDrawable(new q(a.getWindow(e.BACKGROUND_COLOR)));this._window.setContentView(this._layout.show());this._window.setWidth(340*b);this._window.setHeight(340*b);this._layout.addView(this._palette.show())}function F(a,d){a=a||e.DEFAULT;var c=this,g=new ra,f=new r(h);c._theme=a;c._window=new ja(h);c._textView=new L(h);c._layout=new r(h);c._effect=new L(h);c._isRunning=!0;c._window.setBackgroundDrawable(new q(a.getProgressWindow(e.BACKGROUND_COLOR)));c._window.setContentView(f);c._window.setWidth(sa);c._window.setHeight(ta);c._textView.setGravity(A.CENTER);c._textView.setPadding(12*b,8*b,12*b,24*b);c._textView.setText("Now Loading...");c._textView.setTextColor(a.getProgressWindow(e.TEXT_COLOR));c._textView.setTextSize(1,18);g.setColors([a.getProgressWindow(e.EFFECT_COLOR),a.getProgressWindow(e.TEXT_COLOR)]);g.setOrientation(ra.Orientation.LEFT_RIGHT);c._effect.setBackgroundDrawable(g);c._layout.addView(c._effect);c._layout.setBackgroundDrawable(new q(a.getProgressWindow(e.TEXT_COLOR)));c._layout.setGravity(A.LEFT);c._layout.setLayoutParams(r.LayoutParams(304*b,28*b));c._layout.setPadding(2*b,2*b,2*b,2*b);f.addView(c._textView);f.addView(c._layout);f.setGravity(A.CENTER);f.setOrientation(1);("undefined"===typeof d||d)&&(new G({run:function(){for(var a=300*b,d,g=!1,f=0,e=0;c._isRunning;)G.sleep(5),e>=a?d=!1:0>=e&&(d=!0),f+=5,e+=d?b:-b,h.runOnUiThread({run:function(){5E3<=f&&!g&&(g=!0,c._textView.setText(c._textView.getText()+"\n\n[Force shutdown]"),c._textView.setOnClickListener(new B.OnClickListener({onClick:function(a){c._isRunning=!1;c._window.dismiss()}})));c._effect.setLayoutParams(r.LayoutParams(e,24*b))}})}})).start()}function R(a){a=a||e.DEFAULT;var d=this;this._scrollView=new bb(h);this._scroller=new r(h);this._track=new L(h);this._thumb=new L(h);this._theme=a;this._width=340*b;this._scrollView.setLayoutParams(new r.LayoutParams(this._width-6*b,-1));this._scrollView.setOnScrollChangeListener(new B.OnScrollChangeListener({onScrollChange:function(a,g,f,n,e){h.runOnUiThread({run:function(){d._track.setLayoutParams(new r.LayoutParams(12*b,a.getHeight()*f/a.getChildAt(0).getHeight()))}})}}));this._scrollView.setOverScrollMode(B.OVER_SCROLL_NEVER);this._scrollView.setVerticalScrollBarEnabled(!1);this._scrollView.setHorizontalScrollBarEnabled(!1);this._scroller.addView(this._track);this._scroller.addView(this._thumb);this._scroller.setOrientation(1);this._track.setLayoutParams(new r.LayoutParams(6*b,0));this._thumb.setBackgroundDrawable(new q(a.getProgressWindow(e.EFFECT_COLOR)));this._thumb.setLayoutParams(new r.LayoutParams(6*b,36*b));this._thumb.setOnTouchListener(new B.OnTouchListener({onTouch:function(a,g){var c=g.getRawY();g.getAction()===E.ACTION_MOVE&&(d._track.setLayoutParams(new r.LayoutParams(12*b,d._scrollView.getChildAt(0).getHeight()*c/(d._scrollView.getHeight()-18*b))),d._scrollView.scrollTo(0,d._scrollView.getChildAt(0).getHeight()*c/(d._scrollView.getHeight()-18*b)));return!0}}))}function ka(a,d){a=a||D.RECT;d=d||e.DEFAULT;var c=this,g=!1;c._shape=a;c._theme=d;c._params=new r.LayoutParams(a===D.RECT?-1:40*b,a===D.RECT?36*b:40*b);c._view=new L(h);c._pressedDrawable=new q(0);c._unpressedDrawable=new q(0);c._func=function(){};c._params.setMargins(6*b,6*b,6*b,6*b);c._view.setBackgroundDrawable(c._unpressedDrawable);c._view.setGravity(A.CENTER);c._view.setLayoutParams(c._params);c._view.setOnLongClickListener(new B.OnLongClickListener({onLongClick:function(a){return g=!0}}));c._view.setOnTouchListener(new B.OnTouchListener({onTouch:function(a,d){var b=a.getWidth(),f=a.getHeight(),n=d.getX(),e=d.getY();switch(d.getAction()){case E.ACTION_DOWN:a.setBackgroundDrawable(c._pressedDrawable);break;case E.ACTION_MOVE:g&&c._func(d.getRawX(),d.getRawY(),a.getWidth(),a.getHeight());0<=n&&n<=b&&0<=e&&e<=f?a.setBackgroundDrawable(c._pressedDrawable):a.setBackgroundDrawable(c._unpressedDrawable);break;case E.ACTION_UP:g=!1;0<=n&&n<=b&&0<=e&&e<=f&&a.setBackgroundDrawable(c._unpressedDrawable);break;case E.ACTION_CANCEL:g=!1,0<=n&&n<=b&&0<=e&&e<=f&&a.setBackgroundDrawable(c._unpressedDrawable)}return!1}}))}function S(a,d){a=a||D.RECT;d=d||e.DEFAULT;var c=this,g;c._shape=a;c._theme=d;c._params=new r.LayoutParams(a===D.RECT?-1:40*b,a===D.RECT?36*b:40*b);c._view=new L(h);c._pressedDrawable=new q(0);c._unpressedDrawable=new q(0);c._func=function(){};c._params.setMargins(6*b,6*b,6*b,6*b);c._view.setBackgroundDrawable(c._unpressedDrawable);c._view.setGravity(A.CENTER);c._view.setLayoutParams(c._params);c._view.setOnTouchListener(new B.OnTouchListener({onTouch:function(a,d){var b=a.getWidth(),f=a.getHeight(),n=d.getX(),e=d.getY();switch(d.getAction()){case E.ACTION_DOWN:g=n;a.setBackgroundDrawable(c._pressedDrawable);break;case E.ACTION_MOVE:0<=n&&n<=b&&0<=e&&e<=f?a.setBackgroundDrawable(c._pressedDrawable):a.setBackgroundDrawable(c._unpressedDrawable);break;case E.ACTION_UP:Math.abs(g-n)>b/2&&(g<n?c._func(a,S.LEFT_RIGHT):c._func(a,S.RIGHT_LEFT));0<=n&&n<=b&&0<=e&&e<=f&&a.setBackgroundDrawable(c._unpressedDrawable);break;case E.ACTION_CANCEL:0<=n&&n<=b&&0<=e&&e<=f&&a.setBackgroundDrawable(c._unpressedDrawable)}return!0}}))}function V(a){this._theme=a=a||e.DEFAULT;this._height=ta;this._width=sa;this._delay=1E3;this._window=new ja(h);this._window.setBackgroundDrawable(new q(a.getButton(e.BACKGROUND_COLOR)));this._window.setWidth(sa);this._window.setHeight(ta)}function m(){}function T(a){a=a||e.DEFAULT;var d=this;d._theme=a;d._height=156*b;d._width=52*b;d._layouts=[];d._window=new ja(h);d._windowLayout=new Ka(h);d._sensor=(new ka(D.CIRCLE,a)).setEffect(function(a,g,f,n){a=d._x=sa-a+26*b;g=d._y=ta-g-78*b;d._window.update(a,g,-1,-1)}).setEffectImage(u.createBitmap("/sdcard/games/me.astro/library/ic_open_with.png",24*b,24*b),a.getButton(e.EFFECT_COLOR)).setImage(u.createBitmap("/sdcard/games/me.astro/library/ic_open_with.png",24*b,24*b),a.getButton(e.BACKGROUND_COLOR));d._slides=[];d._window.setBackgroundDrawable(new q(0));d._window.setContentView(d._windowLayout);d._window.setWidth(52*b);d._window.setHeight(156*b)}function N(a){this._theme=a=a||e.DEFAULT;this._height=320*b;this._width=400*b;this._layouts=[];this._toggles=[];this._window=new ja(h);this._windowLayout=new r(h);this._sideBarLayout=new r(h);this._contentLayout=new Ka(h);this._windowLayout.addView(this._sideBarLayout,60*b,this._height);this._windowLayout.addView(this._contentLayout,this._width-60*b,this._height);this._windowLayout.setGravity(A.CENTER);this._sideBarLayout.setBackgroundDrawable(new q(a.getWindow(e.BACKGROUND_COLOR)));this._sideBarLayout.setOrientation(1);this._contentLayout.setBackgroundDrawable(new q(a.getWindow(e.TEXT_COLOR)));this._window.setBackgroundDrawable(new q(0));this._window.setContentView(this._windowLayout);this._window.setWidth(this._width+24*b);this._window.setHeight(this._height+24*b)}function cb(){var a=new I("/sdcard/games/me.astro/library/","user.dat");if(a.exists())if((new H).isConnected()){var d,a=new ua(a),c=new La(a),b=new Ma(c),f=b.readLine().split(",");a.close();c.close();b.close();h.runOnUiThread({run:function(){d=new F;d.setText("Logging in...");d.show()}});w=null;w=new k(f[0],f[1]);w.login(function(a){a===k.LOGIN_FAIL?(w=null,za()):a===k.LOGIN_SUCCESS&&Na();ba.callScriptMethod("onLoginListener",[a]);d.dismiss()})}else m.show("Error: No Internet.");else za()}function za(){h.runOnUiThread({run:function(){var a=new N,d=new v,c=new v,g=new v,f=new v,n=new v,e=new v;a.addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_person.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Deneb DB").setTextSize(24).show()).addView((new l).setPadding(12*b,0,8*b,12*b).setText("Login").setTextSize(14).show()).addView(d.setHint("ID").show()).addView(c.setHint("Password").show()).addView((new x).addView((new p).setText("Login").setEffect(function(){var b=d.getText(),g=c.getText(),f=new F;f.setText("Logging in...");f.show();w=new k(b,g);w.login(function(d){if(d===k.LOGIN_FAIL)w=null,h.runOnUiThread({run:function(){c.setText("")}});else if(d===k.LOGIN_SUCCESS){var n=new va("/sdcard/games/me.astro/library/user.dat");n.write((new J(b+","+g)).getBytes());n.close();a.dismiss()}ba.callScriptMethod("onLoginListener",[d]);f.dismiss()})}).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).setOrientation(0).show()).show()).addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_person_add.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Deneb DB").setTextSize(24).show()).addView((new l).setPadding(12*b,0,8*b,12*b).setText("Sign up").setTextSize(14).show()).addView(g.setHint("ID").show()).addView(f.setHint("Password").show()).addView(e.setHint("E-mail").show()).addView(n.setHint("Name").show()).addView((new x).addView((new p).setText("Sign up").setEffect(function(){var a=g.getText(),c=f.getText(),d=e.getText(),b=n.getText(),l=new F;l.setText("Signing up...");l.show();k.signUp(a,c,b,d,function(a){a===k.REGISTER_FAIL&&h.runOnUiThread({run:function(){g.setText("")}});l.dismiss()})}).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).setOrientation(0).show()).show()).setFocusable(!0).show()}})}function Na(){w instanceof k&&w.isAvailable()?h.runOnUiThread({run:function(){try{var a=new N,d=new v,c=new v,g=new v,f=new v;a.addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_person.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Account").setTextSize(24).show()).addView((new l).setPadding(12*b,0,8*b,12*b).setText("My Account ("+w.getId()+")").setTextSize(14).show()).addView((new l).setPadding(8*b,12*b,8*b,12*b).setText("Password").show()).addView(d.setHint("Password").setText(w.getPassword()).show()).addView((new l).setPadding(8*b,12*b,8*b,12*b).setText("Name").show()).addView(c.setHint("Name").setText(w.getName()).show()).addView((new l).setPadding(8*b,12*b,8*b,12*b).setText("E-mail").show()).addView(g.setHint("E-mail").setText(w.getEmail()).show()).addView((new x).addView((new p).setText("Save").setEffect(function(){var b=new F;b.setText("Modifying...");b.show();w.modifyUserData(d.getText(),c.getText(),g.getText(),function(c){if(c===k.EDIT_SUCCESS){var g=new va("/sdcard/games/me.astro/library/user.dat");g.write((new J(w.getId()+","+d.getText())).getBytes());g.close();a.dismiss()}ba.callScriptMethod("onLoginListener",[c]);b.dismiss()})}).show()).addView((new p).setText("Logout").setEffect(function(){a.dismiss();(new I("/sdcard/games/me.astro/library/","user.dat"))["delete"]();w instanceof k&&w.isAvailable()&&(w.logout(),ba.callScriptMethod("onLoginListener",[k.LOGOUT]));za()}).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).setOrientation(0).show()).show()).addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_group.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Friends").setTextSize(24).show()).addView((new l).setPadding(12*b,0,8*b,12*b).setText("Your friends").setTextSize(14).show()).addView((new x).addView(f.setHint("Friend ID").setWH(220*b,40*b).show()).addView((new p).setText("Add").setEffect(function(){var c=new F;c.setText("Adding...");c.show();w.addFriend(f.getText(),function(d){d===k.EDIT_SUCCESS&&a.dismiss();c.dismiss()})}).setPadding(0,0,0,0).show()).setGravity(A.CENTER|A.LEFT).setOrientation(0).show()).addView(function(){var c=new r(h),d=w.getFriends(),g=d.length;0<g&&c.addView((new l).setPadding(12*b,24*b,8*b,12*b).setText("Click to remove your friends").setTextSize(14).show());for(var f=0;f<g;f++)c.addView((new p).setText(d[f]).setTextColor(y.INDIGO).setColor(y.WHITE).setEffect(function(c){var d=new F;d.setText("Removing...");d.show();w.removeFriend(c.getText(),function(c){c===k.EDIT_SUCCESS&&a.dismiss();d.dismiss()})}).setEffectColor(y.WHITE).setWH(-1,36*b).show());c.setOrientation(1);return c}()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()).addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_edit.png"),function(){if(Aa){var c=new v,d=new v,g=new v,f=new v,e=Player.getEntity();return(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Player Manager").setTextSize(24).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Gamemode").setTextSize(14).show()).addView((new x).addView((new p).setText("Survival").setEffect(function(){Level.setGameMode(0);m.show("Gamemode changed.")}).show()).addView((new p).setText("Creative").setEffect(function(){Level.setGameMode(1);m.show("Gamemode changed.")}).show()).setOrientation(0).show(!1)).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Health").setTextSize(14).show()).addView(c.setHint("Health").setText(Entity.getHealth(e)).show()).addView((new p).setText("Set").setEffect(function(){var a=c.getText();z.verifyNumber(a)?(Entity.setHealth(e,Number(a)),m.show("Health changed.")):m.show("Error: Invalid number.")}).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Hunger").setTextSize(14).show()).addView(d.setHint("Hunger").setText(Player.getHunger()).show()).addView((new p).setText("Set").setEffect(function(){var a=d.getText();z.verifyNumber(a)?(Player.setHunger(Number(a)),m.show("Hunger changed.")):m.show("Error: Invalid number.")}).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Level").setTextSize(14).show()).addView(g.setHint("Level").setText(Player.getLevel()).show()).addView((new p).setText("Set").setEffect(function(){var a=g.getText();z.verifyNumber(a)?(Player.setLevel(Number(a)),m.show("Level changed.")):m.show("Error: Invalid number.")}).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Exp").setTextSize(14).show()).addView(f.setHint("Exp").setText(Player.getExp().toFixed(2)).show()).addView((new p).setText("Set").setEffect(function(){var a=f.getText();z.verifyNumber(a)?(Player.setExp(Number(a)),m.show("Exp changed.")):m.show("Error: Invalid number.")}).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()}return(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Player Manager").setTextSize(24).show()).addView((new l).setText("Error: Can not find player.").show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()}()).setFocusable(!0).show()}catch(n){print(n+"-"+n.lineNumber)}}}):cb()}function db(){h.runOnUiThread({run:function(){try{var a=new N;a.addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_settings.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Settings").setTextSize(24).show()).addView((new l).setPadding(12*b,0,8*b,12*b).setText("Settings").setTextSize(14).show()).addView((new p).setEffect(function(a){W.get("enable_splash")?(a.setText("Enable Splash"),W.set("enable_splash",!1).save()):(a.setText("Disable Splash"),W.set("enable_splash",!0).save())}).setText(W.get("enable_splash")?"Disable Splash":"Enable Splash").setWH(-1,36*b).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()).addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_announcement.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Notice").setTextSize(24).show()).addView((new l).setText(Oa).setTextColor(y.GREY_DARK).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()).addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_info_outline.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Device Info").setTextSize(24).show()).addView((new l).setText("Device model: "+eb+"\nDevice version: "+fb+"\n\n").setTextColor(y.GREY_DARK).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Library Info").setTextSize(24).show()).addView((new l).setText("Astro Library 1.0\n\nName Code: me_astro_library\nDeveleoper: Astro\n\n").setTextColor(y.GREY_DARK).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("License").setTextSize(24).show()).addView((new l).setText("AstroLibrary is licensed under the GNU Lesser General Public License, Version 3 (LGPL-3.0).").setTextColor(y.GREY_DARK).show()).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Share with your friends").setTextSize(24).show()).addView((new Q).setLinkButtonText("Github").setLinkButtonUrl("https://github.com/Astro36/AstroLibrary").setLinkText("Hello world").show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()).addLayout(u.createBitmap("/sdcard/games/me.astro/library/ic_help_outline.png"),(new x).addView((new l).setPadding(8*b,16*b,8*b,4*b).setText("Error Message Translation (Korean)").setTextSize(24).show()).addView((new l).setText("Cannot connect to the server.\n- \uc11c\ubc84 \uc624\ub958. \uc774 \uc624\ub958\ub97c \ubc1c\uacac\ud55c\ub2e4\uba74 \uc989\uc2dc \uac1c\ubc1c\uc790\uc5d0\uac8c \uc54c\ub824\uc8fc\uc138\uc694.\n\nCan not find player.\n- \ub9f5 \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uae30\ub2a5\uc785\ub2c8\ub2e4.\n\nCannot find the user.\n- \uc11c\ubc84\uc5d0 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uacc4\uc815 \uc544\uc774\ub514\uac00 \uc785\ub825\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\nIncompatible version. (Library version \u2265 {version})\n- \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ubc84\uc804\uc774 \ud638\ud658\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ucd5c\uc2e0 \ubc84\uc804\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud574\uc8fc\uc138\uc694.\n\nInvalid format.\n- \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud615\uc2dd\uc785\ub2c8\ub2e4.\n    ID & Password: 4~12\uc790\ub9ac\uc758 \uc601\uc5b4, \uc22b\uc790, \uc5b8\ub354\ubc14(_)\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.\n    Name: 1~20\uc790\ub9ac\uc758 \uc601\uc5b4, \uc22b\uc790, \uc5b8\ub354\ubc14(_)\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.\n    E-mail: \ub124\uc774\ubc84 E-mail\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\nInvalid number.\n- \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc22b\uc790\uc785\ub2c8\ub2e4. \uc815\uc218\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.\n\nInvalid parameters.\n- \uc2a4\ud06c\ub9bd\ud2b8 \uc624\ub958. \ud574\ub2f9 \uc2a4\ud06c\ub9bd\ud2b8 \uac1c\ubc1c\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.\n\nInvalid version format.\n- \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ubc84\uc804 \ud615\uc2dd\uc785\ub2c8\ub2e4. 1.0\uacfc \uac19\uc740 \ud615\uc2dd\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.\n\nNo Internet.\n- \uc778\ud130\ub137\uc5d0 \uc5f0\uacb0\ud574\uc8fc\uc138\uc694.\n\nTampered script.\n- \ubb34\ub2e8\uc218\uc815\ub41c \uc2a4\ud06c\ub9bd\ud2b8\n\nThe password is incorrect.\n- \ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\nThis e-mail is already used.\n-\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 E-mail\uc785\ub2c8\ub2e4. \ub2e4\ub978 E-mail\ub97c \uc785\ub825\ud558\uc138\uc694.\n\nThis ID is already used.\n- \uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \uc544\uc774\ub514\uc785\ub2c8\ub2e4. \ub2e4\ub978 \uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694.\n\nThis ID is not accepted.\n- \uc544\uc774\ub514\uac00 \uc544\uc9c1 \uc2b9\uc778\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uac1c\ubc1c\uc790\uac00 \uc544\uc774\ub514\ub97c \uc0ac\uc6a9 \ud5c8\uac00\ud560 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub824\uc8fc\uc138\uc694.\n\nThis ID is not signed up the server.\n- \uc11c\ubc84\uc5d0 \uac00\uc785\ud558\uc9c0 \uc54a\uc740 \uc544\uc774\ub514\uc785\ub2c8\ub2e4. \uc11c\ubc84\uc5d0 \uac00\uc785\ud574\uc8fc\uc138\uc694.").setTextColor(y.GREY_DARK).show()).addView((new p).setText("Close").setEffect(function(){return a.dismiss()}).show()).show()).setFocusable(!0).show()}catch(d){print(d)}}})}function Pa(){for(var a="ic_account_circle.png ic_colorize.png ic_edit.png ic_group.png ic_help_outline.png ic_info_outline.png ic_open_with.png ic_palette.png ic_person.png ic_person_add.png ic_settings.png ic_swap_horiz.png img_astro_library_transparent.png".split(" "),d=!0,c=a.length;c--;)(new I("/sdcard/games/me.astro/library/",a[c])).exists()||(K.download("/sdcard/games/me.astro/library/"+a[c],"https://github.com/Astro36/AstroLibrary/raw/master/res/"+a[c]),d=!1);(new I("/sdcard/games/me.astro/library/","LICENSE")).exists()||(K.download("/sdcard/games/me.astro/library/LICENSE","https://github.com/Astro36/AstroLibrary/raw/master/LICENSE"),d=!1);if(d)(new H).isConnected()&&(new G({run:function(){Oa=la("http://minedev.dothome.co.kr/deneb/notice.txt");Ba=new ea((new O("Astro Library","1.0")).setDeveloper("Astro").setVersionUrl("https://github.com/Astro36/AstroLibrary/raw/master/version.txt"));Ba.isLastVersion()||m.show("New update available.");Ba.isModified()&&m.show("Error: Tampered script.")}})).start(),W=new Y("/sdcard/games/me.astro/library/preference.json"),ca=new T,h.runOnUiThread({run:function(){ca.addView((new P(D.CIRCLE)).setEffect(Na).setEffectImage(u.createBitmap("/sdcard/games/me.astro/library/ic_account_circle.png",24*b,24*b)).setImage(u.createBitmap("/sdcard/games/me.astro/library/ic_account_circle.png",24*b,24*b)).show()).addView((new P(D.CIRCLE)).setEffect(db).setEffectImage(u.createBitmap("/sdcard/games/me.astro/library/ic_settings.png",24*b,24*b)).setImage(u.createBitmap("/sdcard/games/me.astro/library/ic_settings.png",24*b,24*b)).show()).show(W.get("window_location_x"),W.get("window_location_y"));if(W.get("enable_splash")){var a=new r(h),c=new L(h);c.setBackgroundDrawable(new ma(u.createBitmap("/sdcard/games/me.astro/library/img_astro_library_transparent.png",480*b,270*b)));a.addView(c);a.setGravity(A.CENTER);(new V).setColor(y.WHITE).setView(a).show()}}}),(new G({run:function(){G.sleep(3E3);for(var a=ba.scripts,c=a.size();c--;){var d=a.get(c).scope,b;wa.hasProperty(d,"me")?"object"!==typeof(b=wa.getProperty(d,"me")).astro&&(b.astro=C,wa.putProperty(d,"me",b)):wa.putProperty(d,"me",{astro:C})}ba.callScriptMethod("onLibraryLoaded",["Astro Library","me_astro_library","1.0"])}})).start();else if((new H).isConnected()){var g;h.runOnUiThread({run:function(){g=new F;g.setText("Downloading...");g.show()}});(new G({run:function(){for(;!d;){G.sleep(1E3);for(var c=a.length;c--;)if((new I("/sdcard/games/me.astro/library/",a[c])).exists()&&(new I("/sdcard/games/me.astro/library/","LICENSE")).exists())d=!0;else{d=!1;break}}g.dismiss();Pa()}})).start()}else m.show("Error: No Internet.")}var gb=android.app.DownloadManager,Ea=android.content.Context,Qa=android.content.Intent,Ra=android.content.pm.PackageManager,Ca=android.graphics.Bitmap,hb=android.graphics.BitmapFactory,ma=android.graphics.drawable.BitmapDrawable,q=android.graphics.drawable.ColorDrawable,ra=android.graphics.drawable.GradientDrawable,Da=android.graphics.drawable.LayerDrawable,qa=android.graphics.drawable.ShapeDrawable,Sa=android.graphics.drawable.shapes.OvalShape,Ja=android.graphics.Paint,ib=android.graphics.PorterDuff,jb=android.graphics.PorterDuffColorFilter,Ta=android.net.ConnectivityManager,kb=android.net.http.AndroidHttpClient,Ua=android.net.Uri,xa=android.os.Build,ha=android.os.StrictMode,Va=android.renderscript.Allocation,lb=android.renderscript.Element,mb=android.renderscript.RenderScript,nb=android.renderscript.ScriptIntrinsicBlur,ob=android.util.Patterns,A=android.view.Gravity,E=android.view.MotionEvent,B=android.view.View,ab=android.webkit.WebView,$a=android.widget.CompoundButton,Ya=android.widget.EditText,Ka=android.widget.FrameLayout,r=android.widget.LinearLayout,ja=android.widget.PopupWindow,bb=android.widget.ScrollView,L=android.widget.TextView,pb=android.widget.Toast,Za=android.widget.ToggleButton,Ma=java.io.BufferedReader,da=java.io.ByteArrayOutputStream,qb=java.io.DataOutputStream,I=java.io.File,ua=java.io.FileInputStream,va=java.io.FileOutputStream,La=java.io.InputStreamReader,Ga=java.lang.Byte,rb=java.lang.Integer,J=java.lang.String,sb=java.lang.StringBuffer,G=java.lang.Thread,Fa=java.lang.reflect.Array,Ha=java.net.DatagramSocket,Ia=java.net.DatagramPacket,tb=java.net.InetSocketAddress,Wa=java.net.URL,ub=java.nio.ByteBuffer,vb=java.security.MessageDigest,wb=java.util.zip.ZipInputStream,ba=net.zhuoweizhang.mcpelauncher.ScriptManager,xb=org.apache.http.client.methods.HttpGet,wa=org.mozilla.javascript.ScriptableObject,h=com.mojang.minecraftpe.MainActivity.currentMainActivity.get(),b=h.getResources().getDisplayMetrics().density,yb=h.getResources(),na=h.getWindow().getDecorView(),sa=h.getScreenWidth(),ta=h.getScreenHeight(),eb=xa.MODEL,fb=xa.VERSION.RELEASE,Aa=!1,W,Ba,ca,Oa="Error: No Internet.",w;u.blur=function(a,d){if(xa.VERSION.SDK_INT>=xa.VERSION_CODES.JELLY_BEAN_MR1){var c=mb.create(h),b=Va.createFromBitmap(c,a),f=Va.createTyped(c,b.getType()),c=nb.create(c,lb.U8_4(c));c.setRadius(d);c.setInput(b);c.forEach(f);f.copyTo(a)}return a};u.createBitmap=function(a,d,c){return u.resizeBitmap(hb.decodeFile(a),d||36,c||36)};u.resizeBitmap=function(a,d,c){return Ca.createScaledBitmap(a,b*d,b*c,!1)};var y={RED:-769226,RED_DARK:-2937041,RED_ACCENT:-44462,PINK:-1499549,PINK_DARK:-4056997,PINK_ACCENT:-49023,PURPLE:-6543440,PURPLE_DARK:-8708190,PURPLE_ACCENT:-2080517,DEEP_PURPLE:-10011977,DEEP_PURPLE_DARK:-11457112,DEEP_PURPLE_ACCENT:-8630785,INDIGO:-12627531,INDIGO_DARK:-13615201,INDIGO_ACCENT:-11309570,BLUE:-14575885,BLUE_DARK:-15108398,BLUE_ACCENT:-12285185,LIGHT_BLUE:-16537100,LIGHT_BLUE_DARK:-16611119,LIGHT_BLUE_ACCENT:-12532481,CYAN:-16728876,CYAN_DARK:-16738393,CYAN_ACCENT:-15138817,TEAL:-16738680,TEAL_DARK:-16746133,TEAL_ACCENT:-10158118,GREEN:-11751600,GREEN_DARK:-13070788,GREEN_ACCENT:-9834322,LIGHT_GREEN:-7617718,LIGHT_GREEN_DARK:-9920712,LIGHT_GREEN_ACCENT:-5046439,LIME:-3285959,LIME_DARK:-5262293,LIME_ACCENT:-1114303,YELLOW:-5317,YELLOW_DARK:-278483,YELLOW_ACCENT:-256,AMBER:-16121,AMBER_DARK:-24576,AMBER_ACCENT:-10432,ORANGE:-26624,ORANGE_DARK:-689152,ORANGE_ACCENT:-21696,DEEP_ORANGE:-43230,DEEP_ORANGE_DARK:-1684967,DEEP_ORANGE_ACCENT:-37312,BROWN:-8825528,BROWN_DARK:-10665929,BROWN_800:-11652050,GREY:-6381922,GREY_DARK:-10395295,BLUE_GREY:-10453621,BLUE_GREY_DARK:-12232092,BLACK:-16777216,WHITE:-1,TRANSPARENT:0};Object.freeze(y);oa.setTint=function(a,d){a.getPaint().setColorFilter(new jb(d,ib.Mode.SRC_ATOP));return a};pa.RESOURCE=yb.getDrawable(17301521);pa.create=function(){var a=new Da([pa.RESOURCE,new q(-1)]);a.setLayerInset(0,3*b,6*b,3*b,2*b);return a};var D={RECT:0,CIRCLE:1};Object.freeze(D);e.DEFAULT=new e({});e.BACKGROUND_COLOR=0;e.EFFECT_COLOR=1;e.TEXT_COLOR=2;e.HINT_TEXT_COLOR=3;e.parse=function(a){return(new I(a)).exists()?new e(JSON.parse(K.read(a))):e.DEFAULT};e.prototype.getTextView=function(a){if(a===e.TEXT_COLOR)return this._colorTextBlack};e.prototype.getButton=function(a){switch(a){case e.BACKGROUND_COLOR:return this._colorPrimary;case e.EFFECT_COLOR:return this._colorPrimaryDark;case e.TEXT_COLOR:return this._colorTextWhite}};e.prototype.getEditText=function(a){switch(a){case e.BACKGROUND_COLOR:return this._colorAccent;case e.TEXT_COLOR:return this._colorTextBlack;case e.HINT_TEXT_COLOR:return this._colorTextGrey}};e.prototype.getProgressWindow=function(a){switch(a){case e.BACKGROUND_COLOR:return this._colorPrimary;case e.EFFECT_COLOR:return this._colorAccent;case e.TEXT_COLOR:return this._colorTextWhite}};e.prototype.getToast=function(a){switch(a){case e.BACKGROUND_COLOR:return this._colorPrimary;case e.TEXT_COLOR:return this._colorTextWhite}};e.prototype.getWindow=function(a){switch(a){case e.BACKGROUND_COLOR:return this._colorPrimary;case e.EFFECT_COLOR:return this._colorPrimaryDark;case e.TEXT_COLOR:return this._colorTextWhite}};var la=function(a){try{ha.setThreadPolicy((new ha.ThreadPolicy.Builder).permitAll().build());var d=new da;kb.newInstance("userAgent").execute(new xb(a)).getEntity().writeTo(d);d.close();return String(d.toString())}catch(c){m.show(c)}return""};H.WIFI=0;H.MOBILE=1;H.NOT_CONNECTED=2;H.prototype.getConnectedType=function(){var a=this._connectivityManager,d=a.getNetworkInfo(Ta.TYPE_WIFI).isConnected(),a=a.getNetworkInfo(Ta.TYPE_MOBILE).isConnected();return d?H.WIFI:a?H.MOBILE:H.NOT_CONNECTED};H.prototype.isConnected=function(){return 1>=this.getConnectedType()};X.prototype.post=function(a,d){if((new H).isConnected()){var c=this;d=d||function(){};(new G({run:function(){try{ha.setThreadPolicy((new ha.ThreadPolicy.Builder).permitAll().build());var b=(new Wa(c._url)).openConnection(),f;b.setDoInput(!0);b.setDoOutput(!0);b.setUseCaches(!1);b.setRequestMethod("POST");b.setRequestProperty("Content-Type","application/x-www-form-urlencoded");f=b.getOutputStream();f.write((new J(a)).getBytes());f.flush();f.close();d(b.getInputStream())}catch(n){m.show(n)}}})).start()}else m.show("Error: No Internet.");return this};X.prototype.upload=function(a,d){if((new H).isConnected()){var c=this;d=d||function(){};(new G({run:function(){try{ha.setThreadPolicy((new ha.ThreadPolicy.Builder).permitAll().build());var b=(new Wa(c._url)).openConnection(),f=new ua(a),e,h,k;b.setDoInput(!0);b.setDoOutput(!0);b.setUseCaches(!1);b.setRequestMethod("POST");b.setRequestProperty("Connection","Keep-Alive");b.setRequestProperty("ENCTYPE","multipart/form-data");b.setRequestProperty("Content-Type","multipart/form-data;boundary=*****");b.setRequestProperty("uploaded_file",a);e=new qb(b.getOutputStream());e.writeBytes("--*****\r\n");e.writeBytes('Content-Disposition: form-data;name="uploaded_file";filename="'+a+'"\r\n');e.writeBytes("\r\n");h=new Fa.newInstance(Ga.TYPE,k=Math.min(f.available(),1048576));f.read(h,0,k);e.write(h,0,k);e.writeBytes("\r\n");e.writeBytes("--*****--\r\n");200===b.getResponseCode()?d("success"):d("fail");f.close();e.flush();e.close()}catch(Xa){m.show(Xa),d("fail")}}})).start()}else m.show("Error: No Internet.");return this};k.REGISTER_FAIL=0;k.REGISTER_SUCCESS=1;k.LOGIN_FAIL=2;k.LOGIN_SUCCESS=3;k.EDIT_FAIL=4;k.EDIT_SUCCESS=5;k.GET_FAIL=6;k.GET_SUCCESS=7;k.LOGOUT=8;k.signUp=function(a,b,c,g,f){f=f||function(){};z.verifyId(a)&&z.verifyPassword(b)&&z.verifyName(c)&&z.verifyEmail(g)?(new X("http://minedev.dothome.co.kr/deneb/admin.php")).post("type=sign_up&id="+a+"&pw="+b+"&email="+g+"&name="+c,function(a){if(null!==a){for(var c=new da(1024),b;-1!==(b=a.read());)c.write(b);a.close();c.close();a=new J(c.toByteArray());a.contains("Error")?(m.show(a),f(k.REGISTER_FAIL)):(m.show(a),f(k.REGISTER_SUCCESS))}else m.show("Error: Cannot connect to the server."),f(k.REGISTER_FAIL)}):(m.show("Error: Invalid format."),f(k.REGISTER_FAIL))};k.prototype.addFriend=function(a,b){var c=this._friends;a+="";0>c.indexOf(a)&&(c.push(a),this.modifyData("friends",encodeURIComponent(JSON.stringify(c)),b));return this};k.prototype.getDataFromServer=function(a,b){b=b||function(){};(new X("http://minedev.dothome.co.kr/deneb/admin.php")).post("type=get&userid="+this._userId+"&key="+a,function(a){if(null!==a){for(var c=new da(1024),d;-1!==(d=a.read());)c.write(d);a.close();c.close();a=new J(c.toByteArray());a.contains("Error")?(m.show(a),b(k.GET_FAIL)):b(k.GET_SUCCESS,a)}else m.show("Error: Cannot connect to the server."),b(k.GET_FAIL)});return this};k.prototype.getEmail=function(){return this._email};k.prototype.getFriends=function(){return this._friends};k.prototype.getId=function(){return this._id};k.prototype.getName=function(){return this._name};k.prototype.getPassword=function(){return this._password};k.prototype.getRank=function(a,b){b=b||function(){};(new X("http://minedev.dothome.co.kr/deneb/admin.php")).post("type=rank&key="+a,function(a){if(null!==a){for(var c=new da(1024),d;-1!==(d=a.read());)c.write(d);a.close();c.close();a=new J(c.toByteArray());if(a.contains("Error"))m.show(a),b(k.GET_FAIL);else{a=String(a).split("###");for(c=a.length;c--;)a[c]=a[c].split(":");b(k.GET_SUCCESS,a)}}else m.show("Error: Cannot connect to the server."),b(k.GET_FAIL)});return this};k.prototype.getUserId=function(){return this._userId};k.prototype.isAvailable=function(){return this._isAvailable};k.prototype.login=function(a){a=a||function(){};if(z.verifyId(this._id)&&z.verifyPassword(this._password)){var b=this;(new X("http://minedev.dothome.co.kr/deneb/admin.php")).post("type=sign_in&id="+b._id+"&pw="+b._password,function(c){if(null!==c){for(var d=new da(1024),f;-1!==(f=c.read());)d.write(f);c.close();d.close();c=new J(d.toByteArray());if(c.contains("Error"))m.show(c),a(k.LOGIN_FAIL);else{var e=c.split("#");b._userId=e[1];b.getDataFromServer("name",function(a,c){return a===k.GET_SUCCESS&&(b._name=c)});b.getDataFromServer("friends",function(a,c){a===k.GET_SUCCESS&&(c+="",b._friends="string"===typeof c?JSON.parse(decodeURIComponent(c)):[])});b.getDataFromServer("email",function(c,d){c===k.GET_SUCCESS&&(b._email=d,b._isAvailable=!0,m.show(e[0]),a(k.LOGIN_SUCCESS))})}}else m.show("Error: Cannot connect to the server."),a(k.LOGIN_FAIL)})}else m.show("Error: Invalid format."),a(k.LOGIN_FAIL);return this};k.prototype.logout=function(){this._userId=null;this._isAvailable=!1;return this};k.prototype.modifyData=function(a,b,c){c=c||function(){};(new X("http://minedev.dothome.co.kr/deneb/admin.php")).post("type=modify_user&userid="+this._userId+"&key="+a+"&value="+b,function(a){if(null!==a){for(var b=new da(1024),d;-1!==(d=a.read());)b.write(d);a.close();b.close();a=new J(b.toByteArray());a.contains("Error")?(m.show(a),c(k.EDIT_FAIL)):(m.show(a),c(k.EDIT_SUCCESS))}else m.show("Error: Cannot connect to the server."),c(k.EDIT_FAIL)});return this};k.prototype.modifyUserData=function(a,b,c,g){a=a||this._password;b=b||this._name;c=c||this._email;g=g||function(){};if(z.verifyPassword(a)&&z.verifyName(b)&&z.verifyEmail(c)){var d=this;(new X("http://minedev.dothome.co.kr/deneb/admin.php")).post("type=modify_user&userid="+this._userId+"&key=pw|name|email&value="+[a,b,c].join("|"),function(e){if(null!==e){for(var f=new da(1024),h;-1!==(h=e.read());)f.write(h);e.close();f.close();e=new J(f.toByteArray());e.contains("Error")?(m.show(e),g(k.EDIT_FAIL)):(e=e.split("#"),d._password=a,d._name=b,d._email=c,d._userId=e[1],m.show(e[0]),g(k.EDIT_SUCCESS))}else m.show("Error: Cannot connect to the server."),g(k.EDIT_FAIL)})}else m.show("Error: Invalid format."),g(k.EDIT_FAIL);return this};k.prototype.removeFriend=function(a,b){var c=this._friends,d=c.indexOf(a+"");0<=d&&(c.splice(d,1),this.modifyData("friends",encodeURIComponent(JSON.stringify(c)),b));return this};ia.prototype.addReceiver=function(a){var b=this._receivers;0>b.indexOf(a)&&b.push(a);return this};ia.prototype.send=function(a){var b=this._account,c=this._receivers;b instanceof k&&b.isAvailable()&&(new G({run:function(){try{for(var b=(new J(a)).getBytes(),d=c.length;d--;){var e=new Ha;e.connect(new tb(c[d],19130));e.send(new Ia(b,b.length))}}catch(ya){print(ya)}}})).start();return this};ia.prototype.setResponse=function(a){this._response=a;return this};ia.prototype.stop=function(){this._isRunning=!1};U.DOWNLOAD_INSTALL=0;U.DOWNLOAD_ONLY=1;U.prototype.download=function(a,b,c){var d=this,e=new I(a.toString());e.exists()||K.download(a,b);"undefined"!==typeof c&&0!==c||(new G({run:function(){for(;;)if(G.sleep(500),e.exists()){d.install(a);break}}})).start();return this};U.prototype.getVersion=function(){return h.getPackageManager().getPackageInfo(this._packageName,Ra.GET_INSTRUMENTATION).versionName};U.prototype.install=function(a){var b=new Qa(Qa.ACTION_VIEW);b.setDataAndType(new Ua.parse("file://"+a.toString()),"application/vnd.android.package-archive");h.startActivity(b);return this};U.prototype.isEnabled=function(){return this._manager.isEnabled(this._packageName)};U.prototype.isInstalled=function(){return h.getPackageManager().getPackageInfo(this._packageName,Ra.GET_ACTIVITIES)};U.prototype.setDisable=function(){this._manager.setEnabled(this._packageName,!1);return this};U.prototype.setEnabled=function(){this._manager.setEnabled(this._packageName,!0);return this};K.download=function(a,b){try{var c=new I(a),d=c.getName(),e=new gb.Request(new Ua.parse(b));e.setTitle(d);e.setNotificationVisibility(0);e.setDestinationInExternalPublicDir(c.getParent().replace("/sdcard",""),d);h.getSystemService(Ea.DOWNLOAD_SERVICE).enqueue(e)}catch(n){m.show(n)}};K.preventMediaScanning=function(a){(new I(a+(a.endsWith("/")?".nomedia":"/.nomedia"))).createNewFile()};K.read=function(a){if((new I(a)).exists()){a=new ua(a);for(var b=new La(a),c=new Ma(b),e=[],f;null!==(f=c.readLine());)e.push(f);c.close();b.close();a.close();return e.join("\n")}return""};K.unzip=function(a){var b=new I(a);a=new wb(new ua(b));for(var b=b.getParent(),c;null!==(c=a.getNextEntry());){c=new va(b+c.getName());for(var e=(new ub.allocate(1024)).array(),f;-1!==(f=a.read(e));)c.write(e,0,f);a.closeEntry();c.close()}a.close()};K.write=function(a,b){var c=new I(a),d=new va(a);c.getParentFile().mkdirs();d.write((new J(b)).getBytes());d.close()};Y.prototype.get=function(a){return this._obj[a]};Y.prototype.has=function(a){return a in this._obj};Y.prototype.save=function(){K.write(this._path,JSON.stringify(this._obj));return this};Y.prototype.set=function(a,b){this._obj[a]=b;return this};Y.prototype.toString=function(){return JSON.stringify(this._obj)};ea.getHash=function(a){var b=vb.getInstance("SHA-256"),c=new sb;b.update((new J(a)).getBytes());a=b.digest();for(var b=0,e=a.length;b<e;b++)c.append(rb.toString((a[b]&255)+256,16).substring(1));return c.toString()};ea.prototype.isLastVersion=function(){for(var a=this._info,b=a.getVersion().split("."),a=la(a.getVersionUrl()).split("."),c=0,e=Math.max(b.length,a.length);c<e;c++){var f=Number(b[c]||0),h=Number(a[c]||0);if(f>h)break;else if(f<h)return!1}return!0};ea.prototype.isModified=function(){var a=this._info.getHashUrl();if("string"===typeof a){for(var a=la(a),b=ba.enabledScripts.iterator();b.hasNext();)if(a===ea.getHash(K.read(h.getDir("modpescripts",0)+"/"+b.next())))return!1;return!0}return!1};O.prototype.getDeveloper=function(){return this._developer};O.prototype.getHashUrl=function(){return this._hashUrl};O.prototype.getName=function(){return this._name};O.prototype.getVersion=function(){return this._version};O.prototype.getVersionUrl=function(){return this._versionUrl};O.prototype.setDeveloper=function(a){this._developer=a;return this};O.prototype.setHashUrl=function(a){this._hashUrl=a;return this};O.prototype.setName=function(a){this._name=a;return this};O.prototype.setVersion=function(a){this._version=a;return this};O.prototype.setVersionUrl=function(a){this._versionUrl=a;return this};z.verifyEmail=function(a){return(new RegExp(ob.EMAIL_ADDRESS.toString())).test(a)};z.verifyId=function(a){return/^\w{4,12}$/i.test(a)};z.verifyName=function(a){return/^\w{1,20}$/i.test(a)};z.verifyNumber=function(a){return/^\d+$/.test(a)};z.verifyPassword=function(a){return/^\w{4,12}$/i.test(a)};Z.prototype.getTheme=function(){return this._theme};Z.prototype.getView=function(){return this._view};Z.prototype.setGravity=function(){return Error("must be implemented by subclass!")};Z.prototype.setTheme=function(a){this._theme=a;return this};Z.prototype.show=function(){return this._view};l.prototype=Object.create(Z.prototype);l.constructor=l;l.prototype.getText=function(){return this._view.getText().toString()};l.prototype.getTextColor=function(){return this._view.getTextColor()};l.prototype.getTextSize=function(){return this._view.getTextSize()};l.prototype.getWH=function(){var a=this._params;return[a.width,a.height]};l.prototype.setGravity=function(a){this._view.setGravity(a);return this};l.prototype.setPadding=function(a,b,c,e){this._params.setMargins(a,b,c,e);return this};l.prototype.setText=function(a){this._view.setText(a.toString());return this};l.prototype.setTextColor=function(a){this._view.setTextColor(a);return this};l.prototype.setTextSize=function(a){this._view.setTextSize(1,a);return this};l.prototype.setWH=function(a,b){var c=this._params;c.width=a;c.height=b;return this};l.prototype.show=function(){return this._view};p.prototype=Object.create(l.prototype);p.prototype.constructor=p;p.prototype.getEffect=function(){return this._func};p.prototype.setColor=function(a){this._view.setBackgroundDrawable(this._unpressedDrawable=new q(a));return this};p.prototype.setEffect=function(a){this._func="function"===typeof a?a:function(){};return this};p.prototype.setEffectColor=function(a){this._pressedDrawable=new q(a);return this};v.prototype=Object.create(l.prototype);v.prototype.constructor=v;v.prototype.getHint=function(){return this._view.getHint().toString()};v.prototype.setColor=function(a){var d=new qa,c=d.getPaint();c.setColor(-1);c.setStyle(Ja.Style.STROKE);c.setColor(a);c.setStrokeWidth(3*b);this._view.setBackgroundDrawable(d);return this};v.prototype.setHint=function(a){this._view.setHint(a);return this};v.prototype.setHintColor=function(a){this._view.setHintTextColor(a);return this};M.prototype.addView=function(a){this._views.push(a);return this};M.prototype.getColumn=function(){return this._column};M.prototype.getHeight=function(){return this._height};M.prototype.getLayout=function(){return this._layout};M.prototype.getRow=function(){return this._row};M.prototype.getWidth=function(){return this._width};M.prototype.setColumn=function(a){this._column=a;return this};M.prototype.setHeight=function(a){this._height=a;return this};M.prototype.setRow=function(a){this._row=a;return this};M.prototype.setWidth=function(a){this._width=a;return this};M.prototype.show=function(){var a=this._layout,b=this._views,c=this._column,e=this._row,f=this._width*e,k=this._height*c,l=this._width,m=this._height;0>c&&(c=Math.ceil(b.length/e));a.setLayoutParams(new r.LayoutParams(f,k));for(k=0;k<c;k++){var q=new r(h);q.setLayoutParams(new r.LayoutParams(f,m));for(var p=0;p<e;p++)if(e*k+p<b.length){var t=b[e*k+p];t.setLayoutParams(new r.LayoutParams(l,m));q.addView(t)}a.addView(q)}return a};P.prototype=Object.create(p.prototype);P.prototype.constructor=P;P.prototype.setImage=function(a,d,c){var g;this._shape===D.RECT?g=new q(d||this._theme.getButton(e.BACKGROUND_COLOR)):(g=new qa(new Sa),g.getPaint().setColor(d||this._theme.getButton(e.BACKGROUND_COLOR)));this._unpressedDrawable=new Da([g,a instanceof Ca?new ma(a):a]);c=c||8*b;"number"===typeof c?this._unpressedDrawable.setLayerInset(1,c,c,c,c):"object"===typeof c&&this._unpressedDrawable.setLayerInset(1,c[0],c[1],c[2],c[3]);this._view.setBackgroundDrawable(this._unpressedDrawable);return this};P.prototype.setEffectImage=function(a,d,c){var g;this._shape===D.RECT?g=new q(d||this._theme.getButton(e.EFFECT_COLOR)):(g=new qa(new Sa),g.getPaint().setColor(d||this._theme.getButton(e.EFFECT_COLOR)));this._pressedDrawable=new Da([g,a instanceof Ca?new ma(a):a]);c=c||8*b;"number"===typeof c?this._pressedDrawable.setLayerInset(1,c,c,c,c):"object"===typeof c&&this._pressedDrawable.setLayerInset(1,c[0],c[1],c[2],c[3]);return this};aa.prototype=Object.create(P.prototype);aa.prototype.constructor=aa;aa.prototype.isChecked=function(){return this._view.isChecked()};aa.prototype.setChecked=function(a){a?this._view.setBackgroundDrawable(this._pressedDrawable):this._view.setBackgroundDrawable(this._unpressedDrawable);this._view.setChecked(a);return this};Q.prototype=Object.create(l.prototype);Q.prototype.constructor=Q;Q.prototype.setLinkButtonText=function(a){this._linkButtonText=a.toString();return this};Q.prototype.setLinkButtonUrl=function(a){this._linkButtonUrl=a.toString();return this};Q.prototype.setLinkImage=function(a){this._linkImage=a.toString();this._linkImageWidth="300";this._linkImageHeight="200";return this};Q.prototype.setLinkImageWH=function(a,b){this._linkImageWidth=a.toString();this._linkImageHeight=b.toString();return this};Q.prototype.setLinkText=function(a){this._linkText=a.toString();return this};Q.prototype.show=function(){this._view.loadUrl("http://minedev.dothome.co.kr/library/kakaolink.php?text="+this._linkText+"&image_url="+this._linkImage+"&image_width="+this._linkImageWidth+"&image_height="+this._linkImageHeight+"&button_text="+this._linkButtonText+"&button_url="+this._linkButtonUrl);return this._view};x.prototype.addView=function(a){this._layout.addView(a);return this};x.prototype.getLayout=function(){return this._layout};x.prototype.setGravity=function(a){this._layout.setGravity(a);return this};x.prototype.setOrientation=function(a){this._layout.setOrientation(a);return this};x.prototype.show=function(a){if(1!==this._layout.getOrientation()||"undefined"!==typeof a&&!a)return this._layout;a=new R;a.addView(this._layout);return a.show()};fa.prototype.getEffect=function(){return this._func};fa.prototype.getView=function(){return this._layout.getLayout()};fa.prototype.setEffect=function(a){this._func=a;return this};fa.prototype.show=function(){return this._layout.show()};ga.prototype.dismiss=function(){var a=this;h.runOnUiThread({run:function(){a._window.dismiss()}});return this};ga.prototype.getTheme=function(){return this._theme};ga.prototype.getWindow=function(){return this._window};ga.prototype.setColor=function(a){this._window.setBackgroundDrawable(new q(a));return this};ga.prototype.show=function(){this._window.showAtLocation(na,A.CENTER,0,0);return this};F.prototype.dismiss=function(){var a=this;h.runOnUiThread({run:function(){a._isRunning=!1;a._window.dismiss()}});return this};F.prototype.getTheme=function(){return this._theme};F.prototype.getWindow=function(){return this._window};F.prototype.setColor=function(a){this._window.setBackgroundDrawable(new q(a));return this};F.prototype.setEffectColor=function(a,b){var c=new ra;c.setColors([a,b]);c.setOrientation(ra.Orientation.LEFT_RIGHT);this._effect.setBackgroundDrawable(c);this._layout.setBackgroundDrawable(new q(b));return this};F.prototype.setText=function(a){this._textView.setText(a.toString());return this};F.prototype.setTextColor=function(a){this._textView.setTextColor(a);return this};F.prototype.show=function(){this._window.showAtLocation(na,A.CENTER,0,0);return this};F.prototype.stop=function(){this._isRunning=!1;return this};R.prototype.addView=function(a){this._scrollView.addView(a);return this};R.prototype.getLayout=function(){return this._scrollView};R.prototype.getTheme=function(){return this._theme};R.prototype.setThumbColor=function(a){this._thumb.setBackgroundDrawable(new q(a));return this};R.prototype.setThumbDrawable=function(a){this._thumb.setBackgroundDrawable(a);return this};R.prototype.setTrackColor=function(a){this._scroller.setBackgroundDrawable(new q(a));return this};R.prototype.setTrackDrawable=function(a){this._scroller.setBackgroundDrawable(a);return this};R.prototype.show=function(){var a=new r(h);a.addView(this._scrollView);a.addView(this._scroller);a.setLayoutParams(new r.LayoutParams(this._width,-1));return a};ka.prototype=Object.create(P.prototype);ka.prototype.constructor=ka;S.LEFT_RIGHT=0;S.RIGHT_LEFT=1;S.prototype=Object.create(P.prototype);S.prototype.constructor=S;V.prototype.dismiss=function(){var a=this;null!==a._window&&h.runOnUiThread({run:function(){a._window.dismiss();a._window=null}});return this};V.prototype.getDelay=function(){return this._delay};V.prototype.getTheme=function(){return this._theme};V.prototype.getWindow=function(){return this._window};V.prototype.setColor=function(a){this._window.setBackgroundDrawable(new q(a));return this};V.prototype.setDelay=function(a){this._delay=a;return this};V.prototype.setView=function(a){this._window.setContentView(a);return this};V.prototype.show=function(a,b){var c=this;c._window.showAtLocation(na,A.BOTTOM|A.RIGHT,a||0,b||0);c._thread=new G({run:function(){G.sleep(c._delay);h.runOnUiThread({run:function(){c._window.dismiss();c._window=null}})}});c._thread.start();return this};m.show=function(a,d){d=d||e.DEFAULT;h.runOnUiThread({run:function(){var c=new L(h);c.setBackgroundDrawable(new q(d.getToast(e.BACKGROUND_COLOR)));c.setPadding(12*b,8*b,12*b,8*b);c.setText(a.toString());c.setTextColor(d.getToast(e.TEXT_COLOR));c.setTextSize(1,14);var g=new pb(h);g.setView(c);g.show()}})};T.prototype.addView=function(a){var d="getTheme"in a?a.getTheme():this._theme,c=this._layouts;if("undefined"===typeof c[0]||3<=c[c.length-1].getChildCount()){var g=new S(D.CIRCLE,d);g.getView().setId(c.length);g.setEffect(function(a,b){var d=0;b===S.LEFT_RIGHT?d=a.getId()-1:b===S.RIGHT_LEFT&&(d=a.getId()+1);if(c[d]instanceof r){for(var e=0,f=c.length;e<f;e++)c[e].setVisibility(B.GONE);c[d].setVisibility(B.VISIBLE)}}).setEffectImage(u.createBitmap("/sdcard/games/me.astro/library/ic_swap_horiz.png",24*b,24*b),d.getButton(e.EFFECT_COLOR)).setImage(u.createBitmap("/sdcard/games/me.astro/library/ic_swap_horiz.png",24*b,24*b),d.getButton(e.BACKGROUND_COLOR));this._slides.push(g);d=new r(h);d.addView(a,0);d.addView(new L(h),1,new r.LayoutParams(52*b,52*b));d.addView(g.show(),2);d.removeViewAt(1);d.setOrientation(1);d.setVisibility(B.GONE);this._layouts.push(d);this._windowLayout.addView(d)}else c[c.length-1].addView(a,1);return this};T.prototype.dismiss=function(){var a=this,b=a._layouts;h.runOnUiThread({run:function(){a._window.dismiss();a._window=null;for(var c=0,d=b.length;c<d;c++)b[c].setVisibility(B.GONE);a._layouts=null}});return this};T.prototype.getTheme=function(){return this._theme};T.prototype.getWindow=function(){return this._window};T.prototype.getWH=function(){return[this._width,this._height]};T.prototype.getX=function(){return this._x};T.prototype.getY=function(){return this._y};T.prototype.setColor=function(a){this._sensor.setImage(u.createBitmap("/sdcard/games/me.astro/library/ic_open_with.png",24*b,24*b),a);for(var d=$jscomp.makeIterator(this._slides),c=d.next();!c.done;c=d.next())c.value.setImage(u.createBitmap("/sdcard/games/me.astro/library/ic_swap_horiz.png",24*b,24*b),a);return this};T.prototype.show=function(a,b){var c=this._layouts;this.addView(this._sensor.show());c[0].setVisibility(B.VISIBLE);this._window.showAtLocation(na,A.BOTTOM|A.RIGHT,a||0,b||0);return this};N.prototype.addLayout=function(a,d){var c=this,g=c._theme,f=new aa;f.getView().setId(c._layouts.length);c._sideBarLayout.addView(f.setEffect(function(a,b){for(var d=c._layouts,e=c._toggles,f=a.getId(),g=0,h=d.length;g<h;g++)d[g].setVisibility(B.GONE),e[g].setChecked(!1);d[f].setVisibility(B.VISIBLE)}).setEffectImage(oa.setTint(new ma(a),g.getWindow(e.TEXT_COLOR)),g.getWindow(e.EFFECT_COLOR),12*b).setImage(oa.setTint(new ma(a),g.getWindow(e.TEXT_COLOR)),g.getWindow(e.BACKGROUND_COLOR),12*b).setPadding(0,0,0,0).setWH(60*b,60*b).show());c._layouts.push(d);c._toggles.push(f);c._contentLayout.addView(d);return this};N.prototype.dismiss=function(){var a=this,b=a._layouts;h.runOnUiThread({run:function(){a._window.dismiss();a._window=null;for(var c=0,d=b.length;c<d;c++)b[c].setVisibility(B.GONE);a._layouts=null}});return this};N.prototype.getTheme=function(){return this._theme};N.prototype.getWindow=function(){return this._window};N.prototype.getWH=function(){return[this._width,this._height]};N.prototype.setColor=function(a){this._color=a;this._sideBarLayout.setBackgroundDrawable(new q(a));return this};N.prototype.setFocusable=function(a){this._window.setFocusable(a);return this};N.prototype.setWH=function(a,b){this._width=a;this._height=b;return this};N.prototype.show=function(){var a=this._layouts;this._window.showAtLocation(na,A.CENTER,15*-b,2*b);this._toggles[0].setChecked(!0);for(var d=1,c=a.length;d<c;d++)a[d].setVisibility(B.GONE);return this};C.getUser=function(){return w};C.getWindow=function(){return ca};C.init=Pa;C.design={Bitmap:u,Color:y,Drawable:oa,ShadowDrawable:pa,Shape:D,Theme:e};C.internet={NetworkChecker:H,Server:X,getIp:function(){return la("http://minedev.dothome.co.kr/library/get_ip.php")},readHtml:la};C.security={Account:k,UserServer:ia};C.utils={AddonManager:U,File:K,Preference:Y,ScriptChecker:ea,ScriptInfo:O,Text:z};C.widget={View:Z,TextView:l,Button:p,EditText:v,GridLayout:M,ImageButton:P,ImageToggle:aa,KakaoLink:Q,Layout:x,Palette:fa,PaletteWindow:ga,ProgressWindow:F,ScrollView:R,SensorButton:ka,SlideButton:S,SplashWindow:V,Toast:m,VerticalWindow:T,Window:N};t.selectLevelHook=function(){Aa=!0;W.set("window_location_x",ca.getX()).set("window_location_y",ca.getY()).save()};t.leaveGame=function(){Aa=!1;W.set("window_location_x",ca.getX()).set("window_location_y",ca.getY()).save()}})(this,"object"===typeof me.astro?me.astro:me.astro={});me.astro.init();